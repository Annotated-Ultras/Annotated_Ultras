/*
  jQuery document.ready shortcode
  all DOM nodes are loaded on page
*/
 var text = '{"Term": [ "antenna", "antennal scrobe", "antennomere", "anterior propodeal projection", "basal vein", "clava", "clavomere", "clypeus", "condyle", "episternal foveae", "facial striae", "felt field", "femoral depression", "foramen", "forewing", "frons", "frontal depression", "gena", "head", "hindwing", "horn of T1", "interantennal process", "lateral propodeal area", "malar striae", "malar sulcus", "mandible", "margin", "mesepimeral sulcus", "mesonotum", "mesopleural carina", "mesopleural pit", "mesopleuron", "mesoscutal suprahumeral sulcus", "mesoscutellum", "mesoscutum", "mesosoma", "metanotal trough", "metapleural sulcus", "metapleural triangle", "metapleuron", "metascutellum", "metasoma", "metasomal depression", "notaulus", "occipital carina", "ovipositor", "pleurostomal condyle", "postacetabular sulcus", "posterior mesepimeral area", "posterior propodeal projection", "postgena", "postmarginal vein", "prespecular sulcus", "pronotal cervical sulcus", "pronotal suprahumeral sulcus", "pronotum", "sensillum", "skaphion", "spine", "submarginal vein", "submedian carina", "sulcus", "tergite", "transverse pronotal carina", "acetabular carina", "antecostal sulcus", "antennal foramen", "antennal scrobe", "antennomere", "axillar crescent", "axillular carina", "clava", "clypeus", "episternal foveae", "eye", "facial striae", "flagellum", "foramen", "frons", "gena", "genal carina", "hyperoccipital carina", "inner orbit", "interantennal process", "lateral ocellus", "laterotergite", "malar sulcus", "mandible", "margin", "median mesoscutal sulcus", "mediotergite", "mesepisternum", "mesocoxa", "mesopleural carina", "mesopleural epicoxal sulcus", "mesopleural pit", "mesopleuron", "mesoscutal humeral sulcus", "mesoscutal suprahumeral sulcus", "mesoscutellum", "mesoscutum", "mesosoma", "metacoxa", "metanotum", "metapleural carina", "metapleuron", "metapostnotum", "metascutellum", "metasoma", "metasomal depression", "mouthparts", "netrion", "netrion sulcus", "notaulus", "occiput", "ocellus", "orbital furrow", "paracoxal sulcus", "postacetabular sulcus", "preocellar pit", "procoxa", "pronotum", "propleuron", "propodeal spiracle", "propodeum", "radicle", "scape", "sclerite", "sculpture", "speculum", "spiracle", "sulcus", "tegula", "vertex", "wing", "wing base" ], "Concept": [ "The appendage that is composed of ringlike sclerites and the anatomical structures encircled by these sclerites and that is articulated with the cranium.", "The scrobe that is located dorsally of the antennal foramen and is for the reception of the antenna.", "The anatomical structure that is delimited by the proximal and distal margins of the antennal sclerite.", "The projection that is located submedially on the anterior margin of the propodeum.", "The wing vein that is basally located on the fore wing and connects or nearly connects the submarginal vein and the medial plus cubital veins.", "The anatomical cluster that is composed of apical flagellomeres bearing multiporous plates in female organism.", "The flagellomere that is located in the clava.", "The area that corresponds to the site of origin of the clypeo-epipharyngeal muscle.", "The articular surface that is convex and is inserted into the fossa of an adjacent sclerite.", "The row of impressions that is located on the anteroventral edge of the mesopleuron and is correspond to the site of origin of the mesopleuro-mesobasalar muscle.", "The anatomical cluster anterior to the malar sulcus that is composed of carinae radiating from the pleurostomal condyle.", "The setiferous patch that is located sublaterally on an abdominal sternum.", "The scrobe that is located on the mesopleuron into which the mesofemur fits when pressed against the mesosoma.", "The anatomical space that is surrounded by sclerites and allows for the passage of haemolymph, nerves and tracheae.", "The wing that is located on the mesothorax.", "The area that is between the epistomal line and the anterior ocellus and limited laterally by the inner margin of compound eye.", "The anatomical cluster that is composed of antennal scrobes.", "The area that is delimited by the intersection of the interorbital plane, the margin of the compound eye, the margin of the oral foramen, the occipital carina and the malar sulcus.", "The tagma that is located anterior to the thorax.", "The wing that is located on the metathorax.", "The area that is located anteriorly on mediotergum 1, is raised and contains the proximal part of the retracted ovipositor", "The area that is elevated and extends between the toruli.", "The area that is located laterally on the propodeum, is delimited posteromedially by the lateral propodeal carina and is delimited laterally by the plica.", "The anatomical cluster posterior to the malar sulcus that is composed of carinae radiating from the pleurostomal condyle.", "The sulcus that extends between the ventral margin of the compound eye and the base of the mandible.", "The appendage that is encircled by one sclerite that is connected to the cranium proximolaterally and to the maxillo-labial complex proximomedially via conjunctivae and articulates with the cranium via the anterior and posterior cranio-mandibular articulations.", "The line that delimits the periphery of an area.", "The sulcus that extends along the posterior margin of the mesopectus, delimits the mesepimeral area and corresponds to the mesepimeral ridge.", "The area that is limited anteriorly by the pronotum, laterally by the basalare, axillary sclerites, subalare and the mesopectus and posterolaterally by the mesopostnotum and the metanotum.", "The carina that crosses the mesopleuron and limits ventrally the femoral depression.", "The pleural pit that is located on the mesopleuron.", "The pleuron that is located in the mesothorax.", "The sulcus that extends along the anterior margin of the mesoscutum between the anterior-most point of the preaxilla and the anteroadmedian line and corresponds to the vertical lobe of the mesoscutum.", "The scutellum that is located on the mesonotum.", "The scutum that is located on the mesonotum.", "The anatomical cluster that is composed of the prothorax, mesothorax and the metapectal-propodeal complex.", "The area that is concave, and is delimited medially by the metascutellum, laterally by the supraalar area and posteriorly by the metascutellar arm.", "The line that corresponds with the metapleural ridge.", "The area that is located anteroventrally on the metapectus, is delimited ventrally by the ventral carina of the metapleuron and is triangular.", "The area of the metapectal-propodeal complex that is limited ventrally by the ventral carina of the metapleuron and dorsally by the metapleural carina.", "The area that is located posteromedially on the metanotum, is delimited laterally by the metanotal trough and corresponds to the reservoir of the dorsal vessel.", "The tagma that is connected anteriorly to the metapectal-propodeal complex at the propodeal foramen and consists of abdominal segments.", "The acetabulum that is concave, surrounds the nucha and accommodates the base of the metasoma.", "The line that extends submedially along the mesoscutum and corresponds to the median border of the site of origin of the first mesopleuro-mesonotal muscle.", "The carina that surrounds dorsolaterally the occiput.", "The anatomical cluster that is composed of the first valvulae, second valvulae, third valvulae, first valvifers, second valvifers and female T9.", "The condyle that is located on the anterior (dorsal) margin of the pleurostoma and inserts into the mandibular acetabulum.", "The sulcus that extends posteriorly along the epicnemial carina.", "The area that extends along the posterior margin of the mesopleuron and is delimited anteriorly by the mesepimeral sulcus.", "The propodeal spine that is located posteromedially of the first abdominal spiracle.", "The area that is located on the occiput ventrally of the occipital foramen.", "The abscissa that is marginal and located distal to the marginal vein.", "The sulcus that delimits anteriorly the speculum and corresponds to the anterior margin of the speculum.", "The sulcus that extends along the anterior margin of the pronotum and delimits the anterior rim of pronotum.", "The sulcus that extends along the dorsal margin of the pronotum and delimits the dorsal pronotal area.", "The notum that is located in the prothorax.", "A sense organ embedded in the integument and consisting of one or a cluster of sensory neurons and associated sensory structures, support cells and glial cells forming a single organized unit with a largely bona fide boundary.", "The area that is anteriorly on the mesonotum and delimited posteriorly by the skaphion carina.", "The process that lacks non-sclerotised ring at the base.", "Basal-most portion of the forewing vein complex that occurs behind the costal cell; measured from the constriction that delimits the humeral plate to the point at which the vein touches the leading edge of the wing apically.", "The carina that arises from the anterior mandibular articulation that is located medially of the orbital carina and laterally of the frontal carina.", "The groove that corresponds to a ridge.", "The sclerite that is located on the tergum.", "The carina that delimits posteriorly the pronotal neck.", "The carina that delimits posteriorly the epicnemium.", "The sulcus that corresponds to the antecosta.", "The foramen that is located on the head in which the radicle is positioned.", "The scrobe that is located dorsally of the antennal foramen and is for the reception of the antenna.", "The anatomical structure that is delimited by the proximal and distal margins of the antennal sclerite.", "The anatomical cluster composed of the transaxillar carina, axillar carina, and axillular carina.", "The axillular line that is a carina.", "The anatomical cluster that is composed of apical flagellomeres bearing multiporous plates in female organism.", "The area that corresponds to the site of origin of the clypeo-epipharyngeal muscle.", "The row of impressions that is located on the anteroventral edge of the mesopleuron and is correspond to the site of origin of the mesopleuro-mesobasalar muscle.", "The compound organ that is composed of ommatidia.", "The anatomical cluster that composed of carinae radiating from the pleurostomal condyle.", "The anatomical cluster composed of flagellomeres.", "The anatomical space that is surrounded by sclerites and allows for the passage of haemolymph, nerves and tracheae.", "The area that is located dorsally of the ventral margin of the toruli and ventrally of the anterior ocellus medial to the inner margins of the eye and malar line.", "The area that is delimited by the intersection of the interorbital plane, the margin of the compound eye, the margin of the oral foramen, the occipital carina and the malar sulcus.", "The carina that extends on the gena from the lateral margin of the oral foramen.", "The carina that extends on the vertex between the outer orbits.", "The line that extends along the border between the eye and face.", "The area that is elevated and extends between the toruli.", "The ocellus that is paired.", "The area that is located laterally on the tergum and is delimited by a longitudinal edge.", "The sulcus that extends between the ventral margin of the compound eye and the base of the mandible.", "The appendage that is encircled by one sclerite that is connected to the cranium proximolaterally and to the maxillo-labial complex proximomedially via conjunctivae and articulates with the cranium via the anterior and posterior cranio-mandibular articulations.", "The line that delimits the periphery of an area.", "The sulcus that is located in the anteroposterior midline of the mesoscutum and corresponds with the median mesoscutal ridge.", "The area that is located medially on the tergum and is separated laterally by a line from the laterotergite.", "The area that is located anteriorly of the mesepimeral sulcus.", "The coxa that is located on the mid leg.", "The carina that crosses the mesopleuron and limits ventrally the femoral depression.", "The epicoxal sulcus that is located on the mesopleuron.", "The pleural pit that is located on the mesopleuron.", "The pleuron that is located in the mesothorax.", "The sulcus that extends medially along the parascutal carina and corresponds to a shallow ridge.", "The sulcus that extends along the anterior margin of the mesoscutum between the anterior-most point of the preaxilla and the anteroadmedian line and corresponds to the vertical lobe of the mesoscutum.", "The scutellum that is located on the mesonotum.", "The area that is located anterior to the transscutal articulation.", "The anatomical cluster that is composed of the prothorax, mesothorax and the metapectal-propodeal complex.", "The coxa that is located on the hind leg.", "The alinotum that is located in the metathorax, is connected with the mesoscutellum and the mesopostnotum anteriorly and the acrotergite of the first abdominal tergum posteromedially.", "The carina that delimits the metapleuron dorsally from the propodeum, extends from just ventral of the metapleural arm to the metacoxal articulation and passes anteroventral to the propodeal spiracle.", "The area of the metapectal-propodeal complex that is located laterally of the metadiscrimen.", "The area that is located anterior to the antecostal sulcus of the first abdominal tergum.", "The area that is located posteromedially on the metanotum, is delimited laterally by the metanotal trough and corresponds to the reservoir of the dorsal vessel.", "The tagma that is connected anteriorly to the metapectal-propodeal complex at the propodeal foramen and consists of abdominal segments.", "The acetabulum that is concave, surrounds the nucha and accommodates the base of the metasoma.", "The anatomical cluster that is composed of the labrum, epipharyngeal wall, hypopharyngeal wall (including the sitophore), mandibles, maxillae, labium and conjunctivae connecting them.", "The area that is located posteroventrally on the pronotum and corresponds to the site of origin of first flexor of the fore wing muscle.", "The sulcus that  anteriorly delimits the netrion.", "The line that extends submedially along the mesoscutum and corresponds to the median border of the site of origin of the first mesopleuro-mesonotal muscle.", "The area that is concave and surrounds the postocciput.", "The multi-tissue structure that is located on the top of the head, composed of the corneal lens, pigment cell, rhabdoms and synaptic plexus.", "The impression that arises laterally from the antennal rim and extends along the inner margin of the compound eye.", "The sulcus that corresponds to the paracoxal ridge.", "The sulcus that extends posteriorly along the epicnemial carina.", "The pit that is located on upper face adjacent the anterior margin of the median ocellus and corresponds internally to a conical apodeme and not the tentorium.", "The coxa that is located on the fore leg.", "The notum that is located in the prothorax.", "The pleuron that is articulated with the fore leg, connected dorsolaterally (anterolaterally) with the pronotum and ventrally (posteriorly) with the prosternum.", "The abdominal spiracle that is the anteriormost in the body.", "The area of the metapectal-propodeal complex that is located posterior to the metapleural carina.", "The area that is located proximally on the scape, is limited distally by a constriction and bears proximally the basal knob.", "The antennal segment that is proximal to the pedicel and is connected to the head via the radicle.", "The area of the integument that is strongly sclerotised, with thick exocuticle and is surrounded by conjunctivae.", "The area that is located on the sclerite and that is composed of repetitive anatomical structures.", "The area that is located dorsally on the mesopleuron, is delimited posteriorly by the mesepimeral ridge and corresponds to the site of origin of the dorsal mesopleuro-mesofurcal muscle.", "The anatomical cluster that is composed of the distal end of the trachea and the margin of the sclerite or conjunctiva surrounding the spiracular opening.", "The groove that corresponds to a ridge.", "The sclerite that is located laterally of the preaxilla and obscures the anterior mesonoto-first axillary articulation and the mesopleuro-second axillary sclerite joints.", "The area that is delimited by the intersection of the margin of the compound eyes, the interorbital plane, and the anatomical line that is tangential to the point on the margin of the anterior ocellus which defines the minimum distance between the anterior ocellus and the oral foramen.", "The area that is located in between the notum and the pleuron and is composed of the wing base and wing blade.", "The anatomical cluster that is composed of the pteralia, humeral complex, tegula and axillary cord." ],"URI": [ "http://purl.obolibrary.org/obo/HAO_0000101", "http://purl.obolibrary.org/obo/HAO_0001432", "http://purl.obolibrary.org/obo/HAO_0000107", "http://purl.obolibrary.org/obo/HAO_0001968", "http://purl.obolibrary.org/obo/HAO_0000170", "http://purl.obolibrary.org/obo/HAO_0000203", "http://purl.obolibrary.org/obo/HAO_0001186", "http://purl.obolibrary.org/obo/HAO_0000212", "http://purl.obolibrary.org/obo/HAO_0000220", "http://purl.obolibrary.org/obo/HAO_0001509", "http://purl.obolibrary.org/obo/HAO_0002376", "http://purl.obolibrary.org/obo/HAO_0000322", "http://purl.obolibrary.org/obo/HAO_0000326", "http://purl.obolibrary.org/obo/HAO_0000345", "http://purl.obolibrary.org/obo/HAO_0000351", "http://purl.obolibrary.org/obo/HAO_0001523", "http://purl.obolibrary.org/obo/HAO_0000911", "http://purl.obolibrary.org/obo/HAO_0000371", "http://purl.obolibrary.org/obo/HAO_0000397", "http://purl.obolibrary.org/obo/HAO_0000400", "http://purl.obolibrary.org/obo/HAO_0002026", "http://purl.obolibrary.org/obo/HAO_0000422", "http://purl.obolibrary.org/obo/HAO_0000485", "http://purl.obolibrary.org/obo/HAO_0002373", "http://purl.obolibrary.org/obo/HAO_0000504", "http://purl.obolibrary.org/obo/HAO_0000506", "http://purl.obolibrary.org/obo/HAO_0000510", "http://purl.obolibrary.org/obo/HAO_0000538", "http://purl.obolibrary.org/obo/HAO_0000556", "http://purl.obolibrary.org/obo/HAO_0000559", "http://purl.obolibrary.org/obo/HAO_0000561", "http://purl.obolibrary.org/obo/HAO_0001354", "http://purl.obolibrary.org/obo/HAO_0000570", "http://purl.obolibrary.org/obo/HAO_0000574", "http://purl.obolibrary.org/obo/HAO_0000575", "http://purl.obolibrary.org/obo/HAO_0000576", "http://purl.obolibrary.org/obo/HAO_0000600", "http://purl.obolibrary.org/obo/HAO_0000614", "http://purl.obolibrary.org/obo/HAO_0000615", "http://purl.obolibrary.org/obo/HAO_0001869", "http://purl.obolibrary.org/obo/HAO_0000625", "http://purl.obolibrary.org/obo/HAO_0000626", "http://purl.obolibrary.org/obo/HAO_0000627", "http://purl.obolibrary.org/obo/HAO_0000647", "http://purl.obolibrary.org/obo/HAO_0000653", "http://purl.obolibrary.org/obo/HAO_0000679", "http://purl.obolibrary.org/obo/HAO_0000731", "http://purl.obolibrary.org/obo/HAO_0000741", "http://purl.obolibrary.org/obo/HAO_0000751", "http://purl.obolibrary.org/obo/HAO_0000763", "http://purl.obolibrary.org/obo/HAO_0000776", "http://purl.obolibrary.org/obo/HAO_0000783", "http://purl.obolibrary.org/obo/HAO_0000816", "http://purl.obolibrary.org/obo/HAO_0000831", "http://purl.obolibrary.org/obo/HAO_0000842", "http://purl.obolibrary.org/obo/HAO_0000853", "http://purl.obolibrary.org/obo/HAO_0000933", "http://purl.obolibrary.org/obo/HAO_0000940", "http://purl.obolibrary.org/obo/HAO_0000949", "http://purl.obolibrary.org/obo/HAO_0000972", "http://purl.obolibrary.org/obo/HAO_0000973", "http://purl.obolibrary.org/obo/HAO_0000978", "http://purl.obolibrary.org/obo/HAO_0001005", "http://purl.obolibrary.org/obo/HAO_0001031", "http://purl.obolibrary.org/obo/HAO_0000292", "http://purl.obolibrary.org/obo/HAO_0000099", "http://purl.obolibrary.org/obo/HAO_0001022", "http://purl.obolibrary.org/obo/HAO_0001432", "http://purl.obolibrary.org/obo/HAO_0000107", "http://purl.obolibrary.org/obo/HAO_0002306", "http://purl.obolibrary.org/obo/HAO_0000161", "http://purl.obolibrary.org/obo/HAO_0000203", "http://purl.obolibrary.org/obo/HAO_0000212", "http://purl.obolibrary.org/obo/HAO_0001509", "http://purl.obolibrary.org/obo/HAO_0000217", "http://purl.obolibrary.org/obo/HAO_0001770", "http://purl.obolibrary.org/obo/HAO_0000343", "http://purl.obolibrary.org/obo/HAO_0000345", "http://purl.obolibrary.org/obo/HAO_0001044", "http://purl.obolibrary.org/obo/HAO_0000371", "http://purl.obolibrary.org/obo/HAO_0001755", "http://purl.obolibrary.org/obo/HAO_0000406", "http://purl.obolibrary.org/obo/HAO_0000419", "http://purl.obolibrary.org/obo/HAO_0000422", "http://purl.obolibrary.org/obo/HAO_0000481", "http://purl.obolibrary.org/obo/HAO_0001861", "http://purl.obolibrary.org/obo/HAO_0000504", "http://purl.obolibrary.org/obo/HAO_0000506", "http://purl.obolibrary.org/obo/HAO_0000510", "http://purl.obolibrary.org/obo/HAO_0000523", "http://purl.obolibrary.org/obo/HAO_0001860", "http://purl.obolibrary.org/obo/HAO_0001872", "http://purl.obolibrary.org/obo/HAO_0000635", "http://purl.obolibrary.org/obo/HAO_0000559", "http://purl.obolibrary.org/obo/HAO_0000560", "http://purl.obolibrary.org/obo/HAO_0000561", "http://purl.obolibrary.org/obo/HAO_0001354", "http://purl.obolibrary.org/obo/HAO_0000569", "http://purl.obolibrary.org/obo/HAO_0000570", "http://purl.obolibrary.org/obo/HAO_0000574", "http://purl.obolibrary.org/obo/HAO_0001490", "http://purl.obolibrary.org/obo/HAO_0000576", "http://purl.obolibrary.org/obo/HAO_0000587", "http://purl.obolibrary.org/obo/HAO_0000603", "http://purl.obolibrary.org/obo/HAO_0000609", "http://purl.obolibrary.org/obo/HAO_0000621", "http://purl.obolibrary.org/obo/HAO_0001877", "http://purl.obolibrary.org/obo/HAO_0000625", "http://purl.obolibrary.org/obo/HAO_0000626", "http://purl.obolibrary.org/obo/HAO_0000627", "http://purl.obolibrary.org/obo/HAO_0000639", "http://purl.obolibrary.org/obo/HAO_0000644", "http://purl.obolibrary.org/obo/HAO_0000646", "http://purl.obolibrary.org/obo/HAO_0000647", "http://purl.obolibrary.org/obo/HAO_0000658", "http://purl.obolibrary.org/obo/HAO_0000661", "http://purl.obolibrary.org/obo/HAO_0001598", "http://purl.obolibrary.org/obo/HAO_0000685", "http://purl.obolibrary.org/obo/HAO_0000741", "http://purl.obolibrary.org/obo/HAO_0000808", "http://purl.obolibrary.org/obo/HAO_0001122", "http://purl.obolibrary.org/obo/HAO_0000853", "http://purl.obolibrary.org/obo/HAO_0000862", "http://purl.obolibrary.org/obo/HAO_0000329", "http://purl.obolibrary.org/obo/HAO_0001249", "http://purl.obolibrary.org/obo/HAO_0000889", "http://purl.obolibrary.org/obo/HAO_0000908", "http://purl.obolibrary.org/obo/HAO_0000909", "http://purl.obolibrary.org/obo/HAO_0000913", "http://purl.obolibrary.org/obo/HAO_0000944", "http://purl.obolibrary.org/obo/HAO_0000950", "http://purl.obolibrary.org/obo/HAO_0000978", "http://purl.obolibrary.org/obo/HAO_0000993", "http://purl.obolibrary.org/obo/HAO_0001077", "http://purl.obolibrary.org/obo/HAO_0001089", "http://purl.obolibrary.org/obo/HAO_0001090" ],"Preferred.Term": [ "antenna", "antennal scrobe", "antennomere", "anterior propodeal projection", "basal vein", "clava", "clavomere", "clypeus", "condyle", "episternal foveae", "facial striae", "felt field", "mesofemoral depression", "foramen", "fore wing", "frons", "frontal depression", "gena", "head", "hind wing", "horn of T1", "interantennal process", "lateral propodeal area", "malar striae", "malar sulcus", "mandible", "margin", "mesepimeral sulcus", "mesonotum", "mesopleural carina", "mesopleural pit", "mesopleuron", "mesoscutal suprahumeral sulcus", "mesoscutellum", "mesoscutum", "mesosoma", "metanotal trough", "metapleural sulcus", "metapleural triangle", "metapleuron", "metascutellum", "metasoma", "metasomal depression", "notaulus", "occipital carina", "ovipositor", "pleurostomal condyle", "postacetabular sulcus", "posterior mesepimeral area", "posterior propodeal projection", "postgena", "postmarginal vein", "prespecular sulcus", "pronotal cervical sulcus", "pronotal suprahumeral sulcus", "pronotum", "sensillum", "skaphion", "spine", "submarginal vein", "submedian carina", "sulcus", "tergite", "transverse pronotal carina", "epicnemial carina", "antecostal sulcus", "antennal foramen", "antennal scrobe", "antennomere", "axillar crescent", "axillular carina", "clava", "clypeus", "episternal foveae", "eye", "facial striae", "flagellum", "foramen", "upper face", "gena", "genal carina", "hyperoccipital carina", "inner margin of compound eye", "interantennal process", "lateral ocellus", "laterotergite", "malar sulcus", "mandible", "margin", "median mesoscutal sulcus", "mediotergite", "mesepisternum", "mesocoxa", "mesopleural carina", "mesopleural epicoxal sulcus", "mesopleural pit", "mesopleuron", "mesoscutal humeral sulcus", "mesoscutal suprahumeral sulcus", "mesoscutellum", "anteromesoscutum", "mesosoma", "metacoxa", "metanotum", "metapleural carina", "metapleuron", "metapostnotum", "metascutellum", "metasoma", "metasomal depression", "mouthparts", "netrion", "netrion sulcus", "notaulus", "occiput", "ocellus", "orbital furrow", "paracoxal sulcus", "postacetabular sulcus", "preocellar pit", "procoxa", "pronotum", "propleuron", "propodeal spiracle", "propodeum", "radicle", "scape", "sclerite", "sculpture", "speculum", "spiracle", "sulcus", "tegula", "vertex", "wing", "wing base" ] }';
 
var obj_test = JSON.parse(text);

$(function(){

  /*
    definte panzoom options
    this is where we pass in the options that set defaults for the
    panzoom object and corresponding DOM node
    
    the controls are enabled with 
    controlIconsEnabled

    they can be styled to look more like the ones you had previously
  */
  var panzoomOptions = {
    zoomEnabled: true,
    dblClickZoomEnabled: false,
    mouseWheelZoomEnabled: true,
    controlIconsEnabled: false, // set this to true to enable default buttons
    fit: true,
    center: true
  }

  /*
    call svgPanZoom function on node #Layer_1
    pass in the panzoom options as the second argument
  */
  var waspPanZoom = svgPanZoom('#Layer_1', panzoomOptions);

  /*
    Custom buttons event handlers using jQuery
    'click' will also work for touch events on mobile.
  */
  $('#zoom-in').on('click', function(e){
    e.preventDefault()
    waspPanZoom.zoomIn()
  });

  $('#zoom-out').on('click', function(e){
    e.preventDefault()
    waspPanZoom.zoomOut()
  });

  $('#reset').on('click', function(e){
    e.preventDefault()
    waspPanZoom.resetZoom()
  });

  /*
    Glossary contstructor
  */

  var Glossary = function Glossary() {
    this.definitionCount = 0;
    this.prevCount = 0;
    this.$root = $('.glossary');
    this.$list = $('.glossary-list')
  }

  /*
    Glossary prototype methods
  */

  Glossary.prototype = {
    isFull: function() {
      return (this.definitionCount > 0);
    },
    increaseCount: function() {
      this.prevCount = this.definitionCount;
      this.definitionCount ++;
    },
    decreaseCount: function() {
      this.prevCount = this.definitionCount;
      this.definitionCount --;
    },
    toggleDefinition: function($elem) {
      var partId = $elem.attr('id');
      var selector = '.glossary-definition[data-definition="' + partId + '"]';
      var $selector = $(selector);
      var willIncrease = $selector.hasClass('hidden');
      if (willIncrease) {
        this.increaseCount();
        $(selector).removeClass('hidden');
      } else {
        this.decreaseCount();
        $(selector).addClass('hidden');
      } 
    },
    update: function() {
      if (this.isFull()) {
        this.$root.show()
      } else {
        this.$root.hide();
      }
    }
  }

  /*
    initialize Glossary, make it a global object
  */

  var glossary = window.glossary = new Glossary();

  /*
  generate glossary defintions from HAO.csv file
  */
  
  $.each(obj_test.Term, function(key, value){
    var an_def = obj_test.Concept[key];
    $("ul").append('<li class="glossary-definition hidden" data-definition='+value+'>'+an_def+'</li>');
    console.log(key); //to see the index values :)
    console.log(value);
  });
  
  /*
    Body part helper functions
  */
  var toggleOpacity = function($elem) {
    $elem.toggleClass('opaque');
  };

  /*
    Bodypart click handler
  */
  $('.bodypart').on('click', function(e){

    var $thisPart = $(this);

    toggleOpacity($thisPart);

    glossary.toggleDefinition($thisPart);
    glossary.update();

  });

  /*
    looks for resize events on the window and resizes the 
    svg accordingly.
  */
  $(window).resize(function(){
    waspPanZoom.resize();
    waspPanZoom.fit();
    waspPanZoom.center();
  });
});

